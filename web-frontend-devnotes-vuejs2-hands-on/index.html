<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">

<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="K2S73UudyU-JTh9S0U_KnOKgOvE7aW7EpO560okLyUU">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;blog.frosthe.net&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Mist&quot;,&quot;version&quot;:&quot;8.5.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;always&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12,&quot;width&quot;:300},&quot;copycode&quot;:false,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:false,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}</script><script src="/js/config.js"></script>
<meta name="description" content="Notes of Vuejs 2 Practice">
<meta property="og:type" content="article">
<meta property="og:title" content="Web Front-end Notes - Vuejs 2 Practice">
<meta property="og:url" content="https://blog.frosthe.net/web-frontend-devnotes-vuejs2-hands-on/index.html">
<meta property="og:site_name" content="FrostHe.Handbook">
<meta property="og:description" content="Notes of Vuejs 2 Practice">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-08-05T08:21:58.000Z">
<meta property="article:modified_time" content="2022-03-29T09:46:14.630Z">
<meta property="article:author" content="Frost He">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="mvvm">
<meta property="article:tag" content="framework">
<meta property="article:tag" content="vuejs">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://blog.frosthe.net/web-frontend-devnotes-vuejs2-hands-on/">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;,&quot;comments&quot;:true,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;blog.frosthe.net&#x2F;web-frontend-devnotes-vuejs2-hands-on&#x2F;&quot;,&quot;path&quot;:&quot;web-frontend-devnotes-vuejs2-hands-on&#x2F;&quot;,&quot;title&quot;:&quot;Web Front-end Notes - Vuejs 2 Practice&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>Web Front-end Notes - Vuejs 2 Practice | FrostHe.Handbook</title>
  
  <script class="next-config" data-name="google_analytics" type="application/json">{&quot;tracking_id&quot;:&quot;UA-125853342-1&quot;,&quot;only_pageview&quot;:true}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">FrostHe.Handbook</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Talk less, do more</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-film fa-fw"></i>时间线</a></li>
        <li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Frost He"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Frost He</p>
  <div class="site-description" itemprop="description">Full-stack web developer</div>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/BerdyPango" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;BerdyPango" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://plus.google.com/yourname" title="Google → https:&#x2F;&#x2F;plus.google.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-google fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/frosthe0419/" title="Linkedin → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;frosthe0419&#x2F;" rel="noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.instagram.com/frosthe_pro/" title="Instagram → https:&#x2F;&#x2F;www.instagram.com&#x2F;frosthe_pro&#x2F;" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://steamcommunity.com/profiles/76561198049061021/" title="Steam → https:&#x2F;&#x2F;steamcommunity.com&#x2F;profiles&#x2F;76561198049061021&#x2F;" rel="noopener" target="_blank"><i class="fab fa-steam-square fa-fw"></i></a>
      </span>
  </div>


<div class="site-description" itemprop="description">
    <i class="fa fa-fw fa-map-marker-alt"></i>
    <span>Chengdu, China</span>
</div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.frosthe.net/web-frontend-devnotes-vuejs2-hands-on/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Frost He">
      <meta itemprop="description" content="Full-stack web developer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FrostHe.Handbook">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Web Front-end Notes - Vuejs 2 Practice
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-05 16:21:58" itemprop="dateCreated datePublished" datetime="2020-08-05T16:21:58+08:00">2020-08-05</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-03-29 17:46:14" itemprop="dateModified" datetime="2022-03-29T17:46:14+08:00">2022-03-29</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/WebFrontend/" itemprop="url" rel="index"><span itemprop="name">WebFrontend</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>9.7k</span>
    </span>
</div>

            <div class="post-description">Notes of Vuejs 2 Practice</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <ul>
<li><a href="#vue-cli">Vue CLI</a><ul>
<li><a href="#cli">CLI</a></li>
<li><a href="#cli-service">CLI Service</a></li>
<li><a href="#cli-plugins">CLI Plugins</a></li>
<li><a href="#cli-presets">CLI Presets</a></li>
</ul>
</li>
<li><a href="#setup-a-vue-cli-project">Setup a Vue CLI project</a><ul>
<li><a href="#integrate-with-webpack">Integrate with Webpack</a></li>
<li><a href="#debug-typescript-and-vuejs-in-vs-code">Debug typescript and vuejs in vs code</a></li>
</ul>
</li>
<li><a href="#vue-caveats">Vue Caveats</a><ul>
<li><a href="#array-properties">Array properties</a></li>
<li><a href="#object-properties">Object properties</a></li>
<li><a href="#vue-componentvue-instance">Vue Component/Vue Instance</a><ul>
<li><a href="#how-vuejs-manages-data-and-methods">How VueJS manages Data and Methods</a></li>
<li><a href="#mounting-a-template">Mounting a template</a></li>
<li><a href="#vuejs-intance-lifecycle">VueJS Intance Lifecycle</a></li>
<li><a href="#computed-properties">Computed Properties</a></li>
<li><a href="#computed-property-vs-methods">Computed Property vs. Methods</a></li>
<li><a href="#computed-property-vs-watch">Computed Property vs. Watch</a></li>
</ul>
</li>
<li><a href="#plugins">Plugins</a></li>
<li><a href="#define-a-plugin-class-in-typescript">Define a plugin class in typescript</a></li>
<li><a href="#use-functional-components">Use Functional Components</a></li>
<li><a href="#the-key-attribute">The “key” Attribute</a></li>
</ul>
</li>
</ul>
<h2 id="Vue-CLI"><a href="#Vue-CLI" class="headerlink" title="Vue CLI"></a>Vue CLI</h2><p>There are several components included in Vue CLI:</p>
<h3 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a>CLI</h3><p>The CLI: <code>@vue/cli</code>, provides <code>vue</code> command in terminal.</p>
<h3 id="CLI-Service"><a href="#CLI-Service" class="headerlink" title="CLI Service"></a>CLI Service</h3><p>The CLI Service: <code>@vue/cli-service</code>, a development dependency, built on top of <code>webpack</code> adn <code>webpack-dev-server</code>, it contains:</p>
<ul>
<li>The core service that loads other CLI plugins</li>
<li>An internal webpack config that is optimized for most apps</li>
<li>The <code>vue-cli-service</code> binary inside the project, which comes with the basic <code>serve</code>, <code>build</code> and <code>inspect</code> commands</li>
</ul>
<p>See more detailed usage on (CLI Service)[<a target="_blank" rel="noopener" href="https://cli.vuejs.org/guide/cli-service.html]">https://cli.vuejs.org/guide/cli-service.html]</a></p>
<h3 id="CLI-Plugins"><a href="#CLI-Plugins" class="headerlink" title="CLI Plugins"></a>CLI Plugins</h3><p>CLI Plugins are npm packages that provide optional features to your Vue CLI projects, such as Babel/TypeScript transpilation, ESLint integration, unit testing, and end-to-end testing. It’s easy to spot a Vue CLI plugin as their names start with either <code>@vue/cli-plugin-</code>(for built-in plugins) or <code>vue-cli-plugin-</code>(for community plugins).</p>
<p>When you run the <code>vue-cli-service</code> binary inside your project, it automatically resolves and loads all CLI Plugins listed in your project’s <code>package.json</code>. See more details in <a target="_blank" rel="noopener" href="https://cli.vuejs.org/guide/plugins-and-presets.html">Plugins and Presets</a>.</p>
<h3 id="CLI-Presets"><a href="#CLI-Presets" class="headerlink" title="CLI Presets"></a>CLI Presets</h3><p>A Vue CLI preset is a JSON object that contains pre-defined options and plugins for creating a new project so that the user doesn’t have to go through the prompts to select them. Presets saved during <code>vue create</code> are stored in a configuration file in your user home directory <code>(~/.vuerc)</code>. You can directly edit this file to tweak / add / delete the saved presets. See more details in <a target="_blank" rel="noopener" href="https://cli.vuejs.org/guide/plugins-and-presets.html#presets">CLI Presets</a>.</p>
<hr>
<h2 id="Setup-a-Vue-CLI-project"><a href="#Setup-a-Vue-CLI-project" class="headerlink" title="Setup a Vue CLI project"></a>Setup a Vue CLI project</h2><p>Install <code>vue cli</code> via npm:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli @vue/cli-service-global</span><br></pre></td></tr></table></figure>

<h3 id="Integrate-with-Webpack"><a href="#Integrate-with-Webpack" class="headerlink" title="Integrate with Webpack"></a>Integrate with Webpack</h3><p>Create a <code>vue.config.js</code> file and specify a <code>configureWebpack</code> function property, where a <code>config</code> parameter is passed and return an object of webpack. We can play around with all webpack configurations inside this object.</p>
<h3 id="Debug-typescript-and-vuejs-in-vs-code"><a href="#Debug-typescript-and-vuejs-in-vs-code" class="headerlink" title="Debug typescript and vuejs in vs code"></a>Debug typescript and vuejs in vs code</h3><p>Let TypeScript generate source maps. To this end, add the following to the “compilerOptions” section of your “tsconfig.json”:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;sourceMap&quot;</span>: <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>Let’s say we’d like to debug our code for chrome browser. Install <code>Debugger for Chrome</code> extension in vscode. Switch to Debug View(Ctrl + Shift + D), here are the profiles of the debug configuration, click <code>Run and Debug</code> will create a <code>.vscode/launch.json</code> file under the project root folder.</p>
<p>When debugging a Vue project, vs code works together with webpack source map, go to <code>vue.config.js</code> file, add <code>devtool: &#39;source-map&#39;</code> to <code>configureWebpack</code> section, see more details about webpack devtool <a target="_blank" rel="noopener" href="https://webpack.js.org/configuration/devtool/">here</a>.</p>
<hr>
<h2 id="Vue-Caveats"><a href="#Vue-Caveats" class="headerlink" title="Vue Caveats"></a>Vue Caveats</h2><p>The original <a target="_blank" rel="noopener" href="https://vuejs.org/v2/guide/instance.html#Data-and-Methods">Vuejs documentation</a> mentioned:</p>
<blockquote>
<p>It should be noted that properties in <code>data</code> are only reactive if they existed when the instance was created.</p>
</blockquote>
<p>Same thing mentioned at the <a target="_blank" rel="noopener" href="https://class-component.vuejs.org/guide/class-component.html#class-component">Vue Class Componenet documentation</a></p>
<blockquote>
<p>Note that if the initial value is <code>undefined</code>, the class property will not be reactive, which means the changes for the properties will not be detected</p>
</blockquote>
<p>We should always give an initial value on defining a property in <code>data</code> object if we want to keep it reactive.</p>
<p>For Vuex, it is stated as well in their <a target="_blank" rel="noopener" href="https://vuex.vuejs.org/guide/state.html#state">documentation</a>:</p>
<blockquote>
<p>The data you store in Vuex follows the same rules as the data in a Vue instance</p>
</blockquote>
<p>When working with the <code>vue-class-component</code> lib, fields in a Vue component class and a Vuex module class, will be considered as data properties/state properties. Keep in mind that defining a class field without giving a initial value will not keep it reactive after it’s translated into Vue components/store.</p>
<h3 id="Array-properties"><a href="#Array-properties" class="headerlink" title="Array properties"></a>Array properties</h3><p>For array properties, it is mentioned <a target="_blank" rel="noopener" href="https://vuejs.org/v2/guide/list.html#Replacing-an-Array">here</a> that replacing an array is fine.</p>
<p>Vue cannot detect the following changes to an array:</p>
<ul>
<li>When you directly set an item with the index, e.g. <code>vm.items[indexOfItem] = newValue</code><ul>
<li>To overcome this, use <code>$vm.set | Vue.set(vm.items, indexOfItem, newValue)</code> or <code>vm.items.splice(indexOfItem, 1, newValue)</code> instead.</li>
</ul>
</li>
<li>When you modify the length of the array, e.g. <code>vm.items.length = newLength</code><ul>
<li>To overcome this, use <code>vm.items.splice(newLength)</code> instead</li>
</ul>
</li>
</ul>
<h3 id="Object-properties"><a href="#Object-properties" class="headerlink" title="Object properties"></a>Object properties</h3><ul>
<li>Vue cannot detect property addition or deletion, a property must be present in the data object in order for Vue to convert it and make it reactive</li>
<li>Vue does not allow dynamically adding new root-level reactive properties to an already created instance. However, it’s possible to add reactive properties to a nested object using the <code>this.$set | Vue.set(vm.someObject, &#39;b&#39;, 2)</code></li>
<li>To assign a number of properties to an existing object, new properties added to the object will not trigger changes.<ul>
<li>To overcome this, use <code>this.someObject = Object.assign(&#123;&#125;, this.someObject, &#123; a: 1, b: 2 &#125;)</code> instead.</li>
</ul>
</li>
</ul>
<p>See more details at <a target="_blank" rel="noopener" href="https://vuejs.org/v2/guide/reactivity.html">Reactivity in Depth</a>.</p>
<h3 id="Vue-Component-Vue-Instance"><a href="#Vue-Component-Vue-Instance" class="headerlink" title="Vue Component/Vue Instance"></a>Vue Component/Vue Instance</h3><p>Every Vue component is an individual instance of Vue, when calling <code>new Vue(&#123;&#125;)</code> or <code>Vue.Component(&quot;&lt;component-name&gt;&quot;, &#123;&#125;)</code> to create a new Vue instace, the object argument include the following options configurable:</p>
<ul>
<li><code>el</code>: The CSS selector of the Vue app root element</li>
<li><code>data</code>: receive an object and adds all properties found in the object to Vue’s <strong>reactivity system</strong>. <strong>NOTE: You may see data receives an object in root Vue instance while a function which returns an object in components. This is because root Vue instance only orrcurs once, while components could have multiple instances, this makes sure that each component instance can maintain an independent copy of the returned data object.</strong></li>
<li><code>props</code>:</li>
<li><code>propsData</code>:</li>
<li><code>computed</code>: See below</li>
<li><code>methods</code>: See below</li>
<li><code>watch</code>:</li>
</ul>
<blockquote>
<p>Properties prefixed with a <code>$</code> are the native VueJS properties or methods.</p>
</blockquote>
<h4 id="How-VueJS-manages-Data-and-Methods"><a href="#How-VueJS-manages-Data-and-Methods" class="headerlink" title="How VueJS manages Data and Methods"></a>How VueJS manages Data and Methods</h4><p>Vue instance will only creates watchers for everything passed in the object upon creation with Vue constructor. Properties attached to Vue instance thereafter are not reactive.</p>
<ul>
<li><code>$el</code>: It refers to the HTML template, the HTML code of that instance.</li>
<li><code>$data</code>: It refers to the data block we passed on Vue instance creation and made accessible from outside, it points to the same reference of the data object, <code>data === vm.$data</code> returns true.</li>
<li><code>refs</code>: VueJS adds an HTML attribute <code>ref</code> used to register the HTML element to <code>vm.$refs</code> property, which makes it easy to manipulate DOM from Vue instance Javascript code. However, <code>vm.$refs.heading.innerText = &#39;something else&#39;</code> does not overwrite the Vue template code, whenever VueJS re-renders the DOM, it takes its old template and re-renders the DOM based on the old template. Be aware any changes via <code>$refs</code> property directly interact with the DOM, it is not reactive.</li>
</ul>
<h4 id="Mounting-a-template"><a href="#Mounting-a-template" class="headerlink" title="Mounting a template"></a>Mounting a template</h4><p>We can use <code>vm.$mount(&#39;#app&#39;)</code> method to mount the Vue intance to a specific HTML element with a CSS selector. This makes it possible to mount the HTML template programmatically.</p>
<p>Or we can set value to <code>template</code> property in the constructor argument.</p>
<h4 id="VueJS-Intance-Lifecycle"><a href="#VueJS-Intance-Lifecycle" class="headerlink" title="VueJS Intance Lifecycle"></a>VueJS Intance Lifecycle</h4><p>Lifecycle methods are not inside <code>methods</code> property, they are all registered directly on the root object.</p>
<ul>
<li><code>beforeCreate()</code>: occurred before Vue instance creation.</li>
<li><code>created()</code>: occurred after Vue instance creation.</li>
<li><code>beforeMount()</code>:</li>
<li><code>mounted()</code>: The instance is attached to the real DOM.</li>
<li><code>beforeUpdate()</code>: Data change detected, before updating the DOM.</li>
<li><code>updated()</code>:</li>
<li><code>beforeDestroy()</code>:</li>
<li><code>destroyed()</code>: Vue instance is dead, do some clean up.</li>
</ul>
<h4 id="Computed-Properties"><a href="#Computed-Properties" class="headerlink" title="Computed Properties"></a>Computed Properties</h4><p>This is how a computed property is defined:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&quot;#example&quot;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&quot;Hello&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="comment">// a computed getter</span></span><br><span class="line">    <span class="attr">reversedMessage</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// `this` points to the vm instance</span></span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.message.split(<span class="string">&quot;&quot;</span>).reverse().join(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Computed-Property-vs-Methods"><a href="#Computed-Property-vs-Methods" class="headerlink" title="Computed Property vs. Methods"></a>Computed Property vs. Methods</h4><p>Instead of using a computed property, we can define the same function as a method. For the end result, the two approaches are indeed exactly the same. However, the difference is that <strong>computed properties are cached based on their reactive dependencies</strong>. A computed property will only re-evaluate when some of its reactive dependencies have changed. In comparison, a method invocation will <strong>always</strong> run the function whenever a re-render happens.</p>
<h4 id="Computed-Property-vs-Watch"><a href="#Computed-Property-vs-Watch" class="headerlink" title="Computed Property vs. Watch"></a>Computed Property vs. Watch</h4><p>When you have some data that needs to be changed based on some other data, it falls easily to abuse <code>watch</code>. However, it is often a better idea to use a computed property rather than an imperative <code>watch</code> callback:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The Watch approach</span></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.fullName = val + <span class="string">&quot; &quot;</span> + <span class="built_in">this</span>.lastName;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.fullName = <span class="built_in">this</span>.firstName + <span class="string">&quot; &quot;</span> + val;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// The computed property approach</span></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="attr">fullName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&quot; &quot;</span> + <span class="built_in">this</span>.lastName;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h3><p>In addition to vue components, there might be other types of logic blocks(services, utilities) that handle specific parts of the application. In order to expose the feature of those blocks, we can use plugins to act as the glue.</p>
<h3 id="Define-a-plugin-class-in-typescript"><a href="#Define-a-plugin-class-in-typescript" class="headerlink" title="Define a plugin class in typescript"></a>Define a plugin class in typescript</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> SomePluginOptions &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomePlugin</span> <span class="title">implements</span> <span class="title">PluginObject</span>&lt;<span class="title">SomePluginOptions</span>&gt; </span>&#123;</span><br><span class="line">  install(Vue: <span class="keyword">typeof</span> _Vue, options?: SomePluginOptions): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    Vue.$someService = someService;</span><br><span class="line">    Vue.prototype.$someService = someService;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">Vue.use(SomePlugin, SomePluginOptions);</span><br></pre></td></tr></table></figure>

<p>Plugin attach the service instance to either Vue global property or Vue instance property, <code>install</code> method signature is a must to define a plugin. To make the service typescript friendly, we also extend the vue definition file:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="built_in">module</span> <span class="string">&quot;vue/types/vue&quot;</span> &#123;</span><br><span class="line">  <span class="keyword">interface</span> Vue &#123;</span><br><span class="line">    <span class="attr">$someService</span>: SomeService;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">interface</span> VueConstructor &#123;</span><br><span class="line">    <span class="attr">$someService</span>: SomeService;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Use-Functional-Components"><a href="#Use-Functional-Components" class="headerlink" title="Use Functional Components"></a>Use Functional Components</h3><p>Functional component is a stateless component without states and <code>this</code> keyword, it acts as a wrapper of its children in most cases. To get started with functional component, the <code>functional:true</code> property of the component option object is required:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options: FunctionalComponentOptions&lt;</span><br><span class="line">  DefaultProps,</span><br><span class="line">  RecordPropsDefinition&lt;DefaultProps&gt;</span><br><span class="line">&gt; = &#123;</span><br><span class="line">  <span class="attr">functional</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    createElement: CreateElement,</span></span></span><br><span class="line"><span class="params"><span class="function">    context: RenderContext&lt;DefaultProps&gt;</span></span></span><br><span class="line"><span class="params"><span class="function">  </span>): <span class="title">VNode</span> | <span class="title">VNode</span>[] </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> createElement();</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Vue.component(<span class="string">&quot;some-component&quot;</span>, options);</span><br></pre></td></tr></table></figure>

<h3 id="The-“key”-Attribute"><a href="#The-“key”-Attribute" class="headerlink" title="The “key” Attribute"></a>The “key” Attribute</h3><p>The <code>key</code> special attribute is primarily used as a hint for Vue’s virtual DOM algorithm to identify VNodes when diffing the new list of nodes against the old list. Without keys, Vue uses an algorithm that minimizes element movement and tries to patch/reuse elements of the same type in-place as much as possible. With keys, it will reorder elements based on the order change of keys, and elements with keys that are no longer present will always be removed/destroyed.</p>
<hr>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/javascript/" rel="tag"><i class="fa fa-tag"></i> javascript</a>
              <a href="/tags/mvvm/" rel="tag"><i class="fa fa-tag"></i> mvvm</a>
              <a href="/tags/framework/" rel="tag"><i class="fa fa-tag"></i> framework</a>
              <a href="/tags/vuejs/" rel="tag"><i class="fa fa-tag"></i> vuejs</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/web-frontend-devnotes-vuejs2/" rel="prev" title="Web Front-end Notes - Vuejs 2">
                  <i class="fa fa-chevron-left"></i> Web Front-end Notes - Vuejs 2
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/web-frontend-devnotes-typescript/" rel="next" title="Web Front-end Notes - Typescript">
                  Web Front-end Notes - Typescript <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2015 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Frost He</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">437k</span>
  </span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
