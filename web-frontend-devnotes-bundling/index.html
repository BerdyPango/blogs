<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">

<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="K2S73UudyU-JTh9S0U_KnOKgOvE7aW7EpO560okLyUU">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;blog.frosthe.net&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Mist&quot;,&quot;version&quot;:&quot;8.5.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;always&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12,&quot;width&quot;:300},&quot;copycode&quot;:false,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:false,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}</script><script src="/js/config.js"></script>
<meta name="description" content="Notes of Web front-end bundling">
<meta property="og:type" content="article">
<meta property="og:title" content="Web Front-end Notes - Bundling">
<meta property="og:url" content="https://blog.frosthe.net/web-frontend-devnotes-bundling/index.html">
<meta property="og:site_name" content="FrostHe.Handbook">
<meta property="og:description" content="Notes of Web front-end bundling">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-10-14T08:21:58.000Z">
<meta property="article:modified_time" content="2022-04-21T06:35:12.912Z">
<meta property="article:author" content="Frost He">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="engineering">
<meta property="article:tag" content="webpack">
<meta property="article:tag" content="rollup">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://blog.frosthe.net/web-frontend-devnotes-bundling/">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;,&quot;comments&quot;:true,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;blog.frosthe.net&#x2F;web-frontend-devnotes-bundling&#x2F;&quot;,&quot;path&quot;:&quot;web-frontend-devnotes-bundling&#x2F;&quot;,&quot;title&quot;:&quot;Web Front-end Notes - Bundling&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>Web Front-end Notes - Bundling | FrostHe.Handbook</title>
  
  <script class="next-config" data-name="google_analytics" type="application/json">{&quot;tracking_id&quot;:&quot;UA-125853342-1&quot;,&quot;only_pageview&quot;:true}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">FrostHe.Handbook</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Talk less, do more</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-film fa-fw"></i>时间线</a></li>
        <li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Frost He"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Frost He</p>
  <div class="site-description" itemprop="description">Full-stack web developer</div>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/BerdyPango" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;BerdyPango" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://plus.google.com/yourname" title="Google → https:&#x2F;&#x2F;plus.google.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-google fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/frosthe0419/" title="Linkedin → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;frosthe0419&#x2F;" rel="noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.instagram.com/frosthe_pro/" title="Instagram → https:&#x2F;&#x2F;www.instagram.com&#x2F;frosthe_pro&#x2F;" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://steamcommunity.com/profiles/76561198049061021/" title="Steam → https:&#x2F;&#x2F;steamcommunity.com&#x2F;profiles&#x2F;76561198049061021&#x2F;" rel="noopener" target="_blank"><i class="fab fa-steam-square fa-fw"></i></a>
      </span>
  </div>


<div class="site-description" itemprop="description">
    <i class="fa fa-fw fa-map-marker-alt"></i>
    <span>Chengdu, China</span>
</div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.frosthe.net/web-frontend-devnotes-bundling/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Frost He">
      <meta itemprop="description" content="Full-stack web developer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FrostHe.Handbook">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Web Front-end Notes - Bundling
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-10-14 16:21:58" itemprop="dateCreated datePublished" datetime="2021-10-14T16:21:58+08:00">2021-10-14</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-04-21 14:35:12" itemprop="dateModified" datetime="2022-04-21T14:35:12+08:00">2022-04-21</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/WebFrontend/" itemprop="url" rel="index"><span itemprop="name">WebFrontend</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.9k</span>
    </span>
</div>

            <div class="post-description">Notes of Web front-end bundling</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <hr>
<h2 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h2><p>Webpack is used to compile JavaScript modules. Once installed, you can interact with webpack either from its <a target="_blank" rel="noopener" href="https://webpack.js.org/api/cli/">CLI</a> or <a target="_blank" rel="noopener" href="https://webpack.js.org/api/node/">API</a>.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/webpack">webpack</a>: </li>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/webpack-cli">webpack-cli</a>: If you’re using webpack v4 or later and want to call <code>webpack</code> from the command line, you’ll also need to install the CLI.</li>
</ul>
<p>Commonly used options in <code>webpack.config.js</code>:</p>
<ul>
<li><code>entry</code>: Tell webpack the starting point to build the dependency graph.</li>
<li><code>output</code>: Tell webpack the output file or folder it should put.</li>
<li><code>target</code>: Instructs webpack to target a specific environment. Defaults to <code>&#39;browserslist&#39;</code> or to <code>&#39;web&#39;</code> when no browserslist configuration was found.</li>
</ul>
<p>Dependency Graph: </p>
<p>Any time one file depends on another, webpack treats this as a dependency. This allows webpack to take non-code assets, such as images or web fonts, and also provide them as dependencies for your application. Starting from these entry points, webpack recursively builds a dependency graph that includes every module your application needs, then bundles all of those modules into a small number of bundles - often, just one - to be loaded by the browser.</p>
<p>Webpack Concepts:</p>
<ul>
<li><code>Entry</code>: An entry point indicates which module webpack should use to begin building out its internal dependency graph.</li>
<li><code>Output</code>: The output property tells webpack where to emit the bundles it creates and how to name these files.</li>
<li><code>Loaders</code>: Out of the box, webpack only understands JavaScript and JSON files. Loaders allow webpack to process other types of files and convert them into valid modules that can be consumed by your application and added to the dependency graph.<ul>
<li><code>test</code>: The <code>test</code> property identifies which file or files should be transformed.</li>
<li><code>use</code>: The <code>use</code> property indicates which loader should be used to do the transforming.</li>
</ul>
</li>
<li><code>Plugins</code>: While loaders are used to transform certain types of modules, plugins can be leveraged to perform a wider range of tasks like bundle optimization, asset management and injection of environment variables.</li>
<li><code>Mode</code>: By setting the <code>mode</code> parameter to either <code>development</code>, <code>production</code> or <code>none</code>, you can enable webpack’s built-in optimizations that correspond to each environment. The default value is <code>production</code>. Learn more about the <a target="_blank" rel="noopener" href="https://webpack.js.org/configuration/mode/">mode configuration</a> and what optimizations take place on each value.</li>
</ul>
<h3 id="Webpack-with-TypeScript"><a href="#Webpack-with-TypeScript" class="headerlink" title="Webpack with TypeScript"></a>Webpack with TypeScript</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/typescript">typescript</a>: The TypeScript language and compiler package.</li>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/ts-loader">ts-loader</a>: TypeScript loader for webpack. <code>ts-loader</code> uses <code>tsc</code>, the TypeScript compiler, and relies on your <code>tsconfig.json</code> configuration. Make sure to avoid setting <code>module</code> to “CommonJS”, or webpack won’t be able to tree-shake your code.</li>
</ul>
<hr>
<h2 id="Rollup"><a href="#Rollup" class="headerlink" title="Rollup"></a>Rollup</h2><p>Rollup specializes in outputting ES modules which can be used directly by the browser.</p>
<ul>
<li>Tree-Shaking: Rollup analyzes the code you are importing, and exclude anything that isn’t actually used.</li>
<li>Compatibility: <ul>
<li>Importing CommonJS modules: Rollup can import existing CommonJS modules through a plugin.</li>
<li>Publishing ES Modules: You can use Rollup to compile to UMD or CommonJS format which can be used by NodeJs and webpack.</li>
</ul>
</li>
</ul>
<p>See more at <a target="_blank" rel="noopener" href="https://rollupjs.org/guide/en/#introduction">Rollup Introduction</a> page.</p>
<h3 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h3><p>By default, rollup only support import es modules, to load other data as modules, we need plugins.</p>
<ul>
<li>Plugins: Plugins are used to process different kind of data for importing.</li>
<li>Output Plugins: are applied specifically to some outputs. They can only modify code after the main analysis of Rollup has completed. One possible use-case is minification of bundles to be consumed in a browser.</li>
</ul>
<p>For more details, see <a target="_blank" rel="noopener" href="https://rollupjs.org/guide/en/#using-plugins">Using Plugins</a>.</p>
<h4 id="Tricky-notes-on-Plugins"><a href="#Tricky-notes-on-Plugins" class="headerlink" title="Tricky notes on Plugins"></a>Tricky notes on Plugins</h4><ul>
<li>The default typescript plugin <a target="_blank" rel="noopener" href="https://github.com/rollup/plugins/tree/master/packages/typescript">@rollup/plugin-typescript</a> is problematic, use <a target="_blank" rel="noopener" href="https://github.com/ezolenko/rollup-plugin-typescript2">rollup-plugin-typescript2</a> instead.</li>
<li>The <a target="_blank" rel="noopener" href="https://github.com/rollup/plugins/tree/master/packages/node-resolve">@rollup/plugin-node-resolve</a> plugin locates modules using the Node resolution algorithm, for using third party modules in <code>node_modules</code>.<ul>
<li><code>browser: true</code>: instructs the plugin to use the browser module resolutions in <code>package.json</code> and adds <code>&#39;browser&#39;</code> to <code>exportConditions</code> if it is not present so browser conditionals in exports are applied.</li>
</ul>
</li>
<li>The <a target="_blank" rel="noopener" href="https://github.com/rollup/plugins/tree/master/packages/commonjs">@rollup/plugin-commonjs</a> plugin converts CommonJS modules to ES6, so they can be included in a Rollup bundle.<ul>
<li><code>transformMixedEsModules: true</code> will allow mixed importing syntax of <code>import</code> and <code>require</code> expressions.</li>
</ul>
</li>
<li>The <a target="_blank" rel="noopener" href="https://github.com/rollup/plugins/tree/master/packages/alias">@rollup/plugin-alias</a> does NOT apply to style importing in <code>.vue</code> files, need to handle that in <code>rollup-plugin-vue</code>(<a target="_blank" rel="noopener" href="https://github.com/vuejs/rollup-plugin-vue">https://github.com/vuejs/rollup-plugin-vue</a>) plugin.</li>
</ul>
<hr>
<h2 id="SystemJs"><a href="#SystemJs" class="headerlink" title="SystemJs"></a>SystemJs</h2><p>In-browser Javascript modules features supported by <code>systemjs</code>:</p>
<ol>
<li>import maps</li>
<li>one file with multiple modules</li>
<li>Introspection of the module registry.</li>
<li><code>const vueUrl = import.meta.resolve(&#39;vue&#39;);</code></li>
<li><code>const currentModuleUrl = import.meta.url;</code></li>
<li>JSON modules, CSS modules, HTML modules and wasm(WebAssembly) modules.</li>
</ol>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/javascript/" rel="tag"><i class="fa fa-tag"></i> javascript</a>
              <a href="/tags/engineering/" rel="tag"><i class="fa fa-tag"></i> engineering</a>
              <a href="/tags/webpack/" rel="tag"><i class="fa fa-tag"></i> webpack</a>
              <a href="/tags/rollup/" rel="tag"><i class="fa fa-tag"></i> rollup</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/web-frontend-devnotes-typescript-practice/" rel="prev" title="Web Front-end Notes - Typescript Practice">
                  <i class="fa fa-chevron-left"></i> Web Front-end Notes - Typescript Practice
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/web-frontend-es-cheatsheet/" rel="next" title="ES6+ Cheatsheet">
                  ES6+ Cheatsheet <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2015 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Frost He</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">439k</span>
  </span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
